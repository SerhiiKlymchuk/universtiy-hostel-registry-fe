<h1 mat-dialog-title>{{data.header}}</h1>
<form [formGroup]="form" class="form" [class.loading]="isLoading" mat-dialog-content>
  <div class="form-image" [lazyLoad]="form.get('logoImage')?.value"></div>

  <div class="fields-wrap">
    <mat-form-field appearance="outline" floatLabel="always">
      <input id="name" type="text" matInput placeholder="Name" formControlName="name">
      <mat-label for="name">Name</mat-label>
  
      <ng-container *ngIf="form.get('name')?.touched && form.get('name')?.errors">
        <mat-error class="error" *ngIf="form.get('name')?.errors?.['required']">Name is required!</mat-error>
        <mat-error class="error" *ngIf="form.get('name')?.errors?.['maxlength']">Name is too long! No more than (180 chars)</mat-error>
      </ng-container>
    </mat-form-field>

    <mat-form-field appearance="outline" floatLabel="always">
      <input id="logoImage" type="text" matInput placeholder="Address" formControlName="logoImage">
      <mat-label for="logoImage">Logo Image</mat-label>

      <ng-container *ngIf="form.get('logoImage')?.touched && form.get('logoImage')?.errors">
        <mat-error class="error" *ngIf="form.get('logoImage')?.errors?.['required']">Logo is required!</mat-error>
      </ng-container>
    </mat-form-field>

    <mat-form-field appearance="outline" floatLabel="always">
      <input id="address" type="text" matInput placeholder="Address" formControlName="address">
      <mat-label for="address">Address</mat-label>

      <ng-container *ngIf="form.get('address')?.touched && form.get('address')?.errors">
        <mat-error class="error" *ngIf="form.get('address')?.errors?.['required']">Address is required!</mat-error>
        <mat-error class="error" *ngIf="form.get('address')?.errors?.['maxlength']">Address is too long! No more than (180 chars)</mat-error>
      </ng-container>
    </mat-form-field>

    <mat-form-field appearance="outline" floatLabel="always">
      <input id="rector" type="text" matInput placeholder="Rector" formControlName="rector">
      <mat-label for="rector">Rector</mat-label>

      <ng-container *ngIf="form.get('rector')?.touched && form.get('rector')?.errors">
        <mat-error class="error" *ngIf="form.get('rector')?.errors?.['required']">Rector is required!</mat-error>
        <mat-error class="error" *ngIf="form.get('rector')?.errors?.['maxlength']">Rector is too long! No more than (180 chars)</mat-error>
      </ng-container>
    </mat-form-field>

    <mat-form-field appearance="outline" floatLabel="always">
      <input id="coordinates" type="text" matInput placeholder="Coordintes" formControlName="coordinates">
      <mat-label for="coordinates">Coordintes</mat-label>

      <ng-container *ngIf="form.get('coordinates')?.touched && form.get('coordinates')?.errors">
        <mat-error class="error" *ngIf="form.get('coordinates')?.errors?.['required']">Coordinates are required!</mat-error>
      </ng-container>
    </mat-form-field>
  </div>

  <span class="buttons-wrap">
    <button mat-raised-button type="button" color="primary" (click)="saveUniversity()">Save</button>
    <button mat-raised-button type="button" color="warn" (click)="cancel()">Cancel</button>
  </span>
</form>
